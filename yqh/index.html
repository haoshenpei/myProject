<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<meta name="format-detection"content="telephone=no">
<title>邀请函</title>
<link href="style/reset.css" type="text/css" rel="stylesheet" />
<script src="js/rem.min.js" data-psd="750"></script>
</head>

<body>
    <div></div>
<div id="videobox">
   <video 
    id="videoALL" 
    src="http://1254407358.vod2.myqcloud.com/2ee1758evodtransgzp1254407358/5959a9fc4564972818872526694/v.f30.mp4" 
    poster="images/blank.gif" 
    preload="auto" 
    webkit-playsinline="true" 
    playsinline="true" 
    x-webkit-airplay="allow" 
    x5-video-player-type="h5" 
    x5-video-player-fullscreen="false" 
     x5-video-orientation="portraint"
    style="object-fit:fill">
    </video> 

   <div id="btn" onclick="playcontr()">
       <div class="noshow1"></div>
       <div class="noshow2"></div>
       <div class="noshow3"></div>
   </div>
</div>

<div id="videoend" class="">
    <div class="bg_box">
        <div class="bg_box1"></div>
        <div class="bg_box2 animated_fade"></div>
        <div class="bg_box3"></div>
    </div>
    <div id="page0">
        <div class="logo"></div>
        <div class="title1 "><div class="childT"></div></div>
        <div class="title2 "></div>
        <div class="addBtn">
            <div class="addBtnImg v_btn" onclick="showPage1()"></div>
        </div>
        <div class="smallText">参加人员：广州办公室全体人员</div>
    </div>
    <div id="page1">
        <div class="p1_t1"></div>
        <div class="p1_t2">年会时间：14：00 - 21：00</div>
        <div class="box_center"><div class="p1_t3 v_btn" onclick="showPage2()"></div></div>
        <div class="box_center"><div class="p1_t4 v_btn" onclick="showPage3()"></div></div>
        <div class="box_center"><div class="p1_t5 v_btn" onclick="showPage4()"></div></div>
        <div class="upArrow"></div>
    </div>
    <div id="page2">
        <div class="p2_t1"></div>
        <div class="p2_t2"></div>
        <div class="p2_t3"></div>
        <div class="p2_t4"></div>
        <div class="upArrow"></div>
    </div>
    <div id="page3">
        <div class="p3_t1"></div>
        <div class="p3_t2">
            <p>年会地点：富力丽思卡尔顿酒店3楼豪华宴会厅</p>
            <p>年会地址：广州市天河区兴安路3号</p>
        </div>
        <div class="p3_t3"></div>
        <div class="box_center"><div class="p3_t4 v_btn" id="goAddress"></div></div>
        <div class="upArrow"></div>
    </div>
    <div id="page4">
        <div class="p4_t1"></div>
        <div class="p4_box show" id="p4_box1">
            <div class="p4_text1"></div>
            <div class="p4_img1 p4_img"><img src="images/image2.png" /></div>
            <div class="p4_text2"></div>
            <div class="p4_img2 p4_img"><img src="images/image3.png" /></div>
        </div>
        <div class="p4_box" id="p4_box2">
            <div class="p4_text3"></div>
            <div class="p4_img3 p4_img"><img src="images/image4.png" /></div>
            <div class="p4_text4"></div>
            <div class="p4_img4 p4_img"><img src="images/image5.png" /></div>
        </div>
        <div class="upArrow"></div>
    </div>
</div>
<div class="hidden">
    <audio src="video/click.mp3" controls preload="auto" width="100" height="50" id="sound"></audio>
    <audio src="video/bg_voice1.mp3" controls preload="auto" width="100" height="50" id="bg_voice" loop="loop" ></audio>
</div>
<script src="http://apps.bdimg.com/libs/zepto/1.1.4/zepto.min.js"></script>
<script src="js/touch.min.js"></script>
<script>
var runTime = null;
var videoALL = document.getElementById('videoALL'),
    videobox = document.getElementById('videobox'),
    btn = document.getElementById('btn'),
    videoend =  document.getElementById('videoend');
var clientWidth = document.documentElement.clientWidth;
var clientHeight = document.documentElement.clientHeight;
videoALL.style.width = clientWidth + 'px';
videoALL.style.height = clientHeight + 'px'; // 'auto';
document.addEventListener('touchmove', function(e){e.preventDefault()}, false);
videoALL.load();
var img1 = new Image();
img1.src = 'images/2.jpg';
function stylediv(divId){
    divId.style.width = clientWidth + 'px';
    divId.style.height = clientHeight + 'px'; 
}
stylediv(videobox);
stylediv(videoend);

var u = navigator.userAgent; 
var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端 
var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端 

function playcontr(){
    if (isAndroid) {
       videoALL.style.width = window.screen.width + 'px';
       videoALL.style.height = window.screen.height + 'px'; 
    }
    videobox.style.display = "block";
    videoALL.play();
    btn.style.display = "none";
    // videoend.style.display = "none";
    videoend.style.zIndex = '-1';
};

videoALL.addEventListener('pause',function(){  
    videoALL.style.width = clientWidth + 'px';
    btn.style.display = "block";
})  

videoALL.addEventListener("ended",function(){
    var bg_voice =  document.getElementById('bg_voice');
    videoALL.pause();
    videobox.style.display = "none";
    // videoend.style.display = "block";
    videoend.style.zIndex = '2';
    window.setTimeout(function(){
        $('.title1').addClass('animated1');
        $('.title2').addClass('animated2');
        $('.addBtnImg').addClass('animated3');
        $('.smallText').addClass('animated4');
        bg_voice.play();
    }, 300);
   
});
function showPage0() {
    var page0 = document.getElementById('page0');
    var page1 = document.getElementById('page1');
    var page2 = document.getElementById('page2');
    var page3 = document.getElementById('page3');
    var page4 = document.getElementById('page4');
    page0.style.zIndex = 2;
    page1.style.zIndex = -8;
    page2.style.zIndex = -8;
    page3.style.zIndex = -8;
    page4.style.zIndex = -8;
    window.setTimeout(function(){
        $('.p1_t1').addClass('animated1');
        $('.p1_t2').addClass('animated2');
        $('.p1_t3').addClass('animated3');
        $('.p1_t4').addClass('animated4');
        $('.p1_t5').addClass('animated5');
    }, 300);
    if(runTime){window.clearInterval(runTime);}
}
function showPage1() {
    var page0 = document.getElementById('page0');
    var page1 = document.getElementById('page1');
    var page2 = document.getElementById('page2');
    var page3 = document.getElementById('page3');
    var page4 = document.getElementById('page4');
    page1.style.zIndex = 2;
    page0.style.zIndex = -8;
    page2.style.zIndex = -8;
    page3.style.zIndex = -8;
    page4.style.zIndex = -8;
    window.setTimeout(function(){
        $('.p1_t1').addClass('animated1');
        $('.p1_t2').addClass('animated2');
        $('.p1_t3').addClass('animated3');
        $('.p1_t4').addClass('animated3');
        $('.p1_t5').addClass('animated3');
    }, 300);
    if(runTime){window.clearInterval(runTime);}
    touch.on('#page1','swipeup',function(){
        showPage0();
    });
}
function showPage2() {
    var page0 = document.getElementById('page0');
    var page1 = document.getElementById('page1');
    var page2 = document.getElementById('page2');
    var page3 = document.getElementById('page3');
    var page4 = document.getElementById('page4');
    page2.style.zIndex = 2;
    page0.style.zIndex = -8;
    page1.style.zIndex = -8;
    page3.style.zIndex = -8;
    page4.style.zIndex = -8;
    window.setTimeout(function(){
        $('.p2_t1').addClass('animated1');
        $('.p2_t2').addClass('animated2');
        $('.p2_t3').addClass('animated3');
        $('.p2_t4').addClass('animated4');
    }, 300);
    if(runTime){window.clearInterval(runTime);}
    touch.on('#page2','swipeup',function(){
        showPage1();
    });
}
function showPage3() {
    var page0 = document.getElementById('page0');
    var page1 = document.getElementById('page1');
    var page2 = document.getElementById('page2');
    var page3 = document.getElementById('page3');
    var page4 = document.getElementById('page4');
    page3.style.zIndex = 2;
    page0.style.zIndex = -8;
    page1.style.zIndex = -8;
    page2.style.zIndex = -8;
    page4.style.zIndex = -8;
    window.setTimeout(function(){
        $('.p3_t1').addClass('animated1');
        $('.p3_t2').addClass('animated2');
        $('.p3_t3').addClass('animated3');
        $('.p3_t4').addClass('animated4');
    }, 300);
    if(runTime){window.clearInterval(runTime);}
    touch.on('#page3','swipeup',function(){
        showPage1();
    });
}
function showPage4() {
    var page0 = document.getElementById('page0');
    var page1 = document.getElementById('page1');
    var page2 = document.getElementById('page2');
    var page3 = document.getElementById('page3');
    var page4 = document.getElementById('page4');
    var box1 = $('#p4_box1');
    var box2 = $('#p4_box2');
    page4.style.zIndex = 2;
    page0.style.zIndex = -8;
    page1.style.zIndex = -8;
    page2.style.zIndex = -8;
    page3.style.zIndex = -8;
    window.setTimeout(function(){
        $('.p4_t1').addClass('animated1');
        $('.p4_text1').addClass('animated_c animated_time1');
        $('.p4_img1').addClass('animated_c animated_time2');
        $('.p4_text2').addClass('animated_c animated_time3');
        $('.p4_img2').addClass('animated_c animated_time4');
        $('.p4_text3').addClass('animated_c animated_time1');
        $('.p4_img3').addClass('animated_c animated_time2');
        $('.p4_text4').addClass('animated_c animated_time3');
        $('.p4_img4').addClass('animated_c animated_time4');
        runTime = window.setInterval(function(){
            if (box1.hasClass('show')) {
                box1.removeClass('show');
                box2.addClass('show');
            } else {
                box2.removeClass('show');
                box1.addClass('show');
            }
        },4000)
    }, 300);
    touch.on('#page4','swipeup',function(){
        showPage1();
    });
}
$('.v_btn').on('click',function(){
    var sound = document.getElementById('sound');
    sound.play();
})

</script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>
    var shareConfig = {
        debug: false,
        appId: 'wx131a2112efd76636',//php输出参数
        timestamp: '',//php输出参数
        nonceStr: '',//php输出参数
        signature: '',//php输出参数
        jsApiList: [
            'onMenuShareTimeline',
            'onMenuShareAppMessage',
            'onMenuShareQQ',
            'onMenuShareWeibo',
            'openLocation'
        ]
    }
    var shareAllData = {
        title:'2018汤臣倍健邀请函',
        desc:'2018汤臣倍健邀请函',
        imgUrl:'images/share.png',
        link:window.location.href
    }
    function getConfig(data) {
        $.post('http://wx-test.by-health.com/common/auth/JsSdkAuth.do', data, function(data){
            if (data.status == '0') {
                shareConfig.timestamp = data.body.timestamp;
                shareConfig.nonceStr = data.body.nonceStr;
                shareConfig.signature = data.body.signature;
                wxSDKInit();
            }
        });
    };
    function wxSDKInit() {
        wx.config(shareConfig);
        wx.ready(function () {
            wx.onMenuShareAppMessage(shareAllData);
            wx.onMenuShareTimeline({
                title: shareAllData.desc,
                link: shareAllData.link,
                imgUrl: shareAllData.imgUrl
            });
        });
    }
    function showAddress(lat,lon) {
        wx.openLocation({
        latitude: Number(lat), // 纬度，浮点数，范围为90 ~ -90
        longitude: Number(lon), // 经度，浮点数，范围为180 ~ -180。
        name: '年会地点', // 位置名
        address: '广州市天河区兴安路3号广州富力丽思卡尔顿酒店', // 地址详情说明
        scale: 18, // 地图缩放级别,整形值,范围从1~28。默认为最大
        infoUrl: '' // 在查看位置界面底部显示的超链接,可点击跳转
        });
    }
    $('#goAddress').on('click',function(){
        showAddress('23.11636','113.32746');
    })
    getConfig({url:window.location.href, appId:shareConfig.appId});

</script>
</body>
</html>
